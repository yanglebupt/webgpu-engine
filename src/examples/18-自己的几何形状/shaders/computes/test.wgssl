Input {
  @builtin(global_invocation_id) id: vec3u
}

Resources {
  struct UniformData {
    li:f32,
  };
  @group(0) @binding(2) var<uniform> uni: UniformData;
  @group(0) @binding(3) var tex: texture_2d<f32>;
}

@compute @workgroup_size(${chunk_size})
Entry {
  let pixel = id.${wh};
  var col = textureLoad(inputTexture, pixel, 0u);
  let col2 = textureLoad(tex, pixel, 0u);
  col*=col2;
  textureStore(outputTexture, pixel, vec4f(pow(col.rgb, vec3f(uni.li)), col.a));
}
